<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<style>
		*{
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		.game{
			margin: 100px auto;
			width: 300px;
			height: 300px;
			display: flex;
			flex-flow: row wrap;
		}

		.square {
			width: 100px;
			height: 100px;
			border: 1px solid black;
			display: flex;
			justify-content: center;
			align-items: center;
			font-size: 50px;
		}

	</style>
</head>
<body>

	<h1>Tic Tac Toe</h1>
	<h2>Current player: <span class="player">X</span></h2>

	<div class="game"></div>

	
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
  crossorigin="anonymous"></script>
	
	<script >
		
		// Tic Tac Toe Game

		const cells = ['', '', '', '', '', '', '', '', ''];
		let isActiveX = true;

		function init(){
			cells.forEach((item, index) => {
				$('.game').append(`<div class="square" data-cell='${index}'>${item}</square`);
			});
		}
		init();

		$('.game').on('click', function(e){
			if($(e.target).text() === ''){
				$(e.target).text(isActiveX ? 'X' : '0');
				cells[+e.target.dataset.cell] = isActiveX ? 'X' : '0';
				setTimeout(()=>{
					isActiveX = !isActiveX;
					$('.player').text(isActiveX ? 'X' : '0');
					gameOver();
				}, 10)
			}
		});

		function gameOver(){
			if(!cells.includes('')){
				alert('Nobody wins! Game over!');
			}
			else{
				if(cells[0] === cells[1] && cells[1] === cells[2] && cells[0] !== '' ||
				cells[3] === cells[4] && cells[4] === cells[5] && cells[5] !== '' ||
				cells[6] === cells[7] && cells[7] === cells[8] && cells[8] !== '' ||
				cells[0] === cells[3] && cells[3] === cells[6] && cells[0] !== '' ||
				cells[4] === cells[1] && cells[1] === cells[7] && cells[1] !== '' ||
				cells[2] === cells[5] && cells[5] === cells[8] && cells[8] !== '' ||
				cells[0] === cells[4] && cells[4] === cells[8] && cells[0] !== '' ||
				cells[2] === cells[4] && cells[4] === cells[6] && cells[6] !== '')
				{
					alert(`The winner is ${isActiveX ? '0' : 'X'}`);
					restartGame();
				}
			}
		}


		function restartGame(){
			cells.fill('');
			isActiveX = true;
			$('.player').text(isActiveX ? 'X' : '0');
			$('.game').html('');
			init();
		}

		
	</script>


</body>
</html>