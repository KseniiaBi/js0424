<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<style>
		*{
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}


	</style>
</head>
<body>

	
	
	<script>

		// Map 
		// set(key, value), get(key), has(key), delete(key), clear()
		// size property

		let m = new Map();

		m.set('a', 1);
		m.set(2, 'b');
		m.set(true, 'isActive');

		// chaining
		m.set(3, 'c')
		 .set(4, 'd')
		 .set(false, 'f');

		 console.log(`Map m has size ${m.size}`);

		 console.log(m);


		 // keys(), values(), entries()

		 for(let data of m.values()){
			console.log(data);
		 }

		 let shoes = new Map([
			[36, 22.5],
			[37, 23],
			[38, 23.5]
		 ]);

		 for(let size of shoes.entries()){
		 	console.log(size.toString());
		 }

		 shoes.forEach((val, key, map) => {
			console.warn(`${key}: ${val}`);
		 });


		 // map from Object

		 const student = {
			firstname: 'Mary',
			lastname: 'Peterson',
			age: 23,
			course: 'Javascript'
		 }

		 let sMap = new Map(Object.entries(student));
		 console.log(sMap);

		 const s2 = Object.fromEntries(sMap.entries());
		 console.log(sMap.get('course'));
		 console.log(s2);


		 // Set
		// add(value), delete(value), has(value), clear()
		// size

		const set = new Set();

		const user = {
			role: 'user',
			name: 'user30183yfbn',
			ip: '192.168.0.1'
		}

		const admin = {
			role: 'admin',
			name: 'administrator',
			access: 'read/write'
		}


		set.add(student);
		set.add(admin);
		set.add(user);
		set.add(s2);
		set.add(user);
		set.add(admin);
		set.add(user);
		set.add(admin)
		set.add(user);
		set.add(admin);

		console.log(set.size);

		// for(let value of set){
		// 	console.log(value);
		// }

		set.forEach((val, valReallyAgain, collection) => console.error(val));

		// keys(), values, entries()


		// WeakMap, WeakSet
		// keys - only objects
		// has, delete, add/set
		// keys(), values, entries() and iteration are not available for Weak Collections



		// Symbol

		let name = Symbol('name');
		let name2 = Symbol('name');
		console.log(name === name2);
		
		// alert(name); //Cannot convert a Symbol value to a string 

		// console.log(name.toString());
		console.log(name.description);

		user[name] = 1;

		for(let prop in user){
			console.log(prop);
		}

		const id = Symbol('id');
		const obj = {
			num: 1111,
			[id]: 1
		}


		let mary = Symbol.for('name');

		let peter = Symbol.for('name');

		console.log(peter === mary);

		let sym = Symbol.for('name');
		let sym2 = Symbol.for('id');

		console.log(Symbol.keyFor(sym));
		console.log(Symbol.keyFor(sym2));


		// Symbol.iterator

		let range = {
			from: 1,
			to: 5
		}

		range[Symbol.iterator] = function () {
			return {
				current: this.from,
				last: this.to,

				next(){
					if(this.current <= this.last){
						return {
							done: false,
							value: this.current++,
							sum: this.sum += this.curren
						}
					}
					else{
						return {done: true}
					}
				}
			}
		}

		for(let num of range){
			console.log(num);
		}


		function sum(obj){
			let sum = 0;
			for(let arg of obj){
				sum += arg;
			}
			console.warn(sum);
		}

		sum(range);







	</script>

	<script type="module" src="common.js"></script>

</body>
</html>